{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Home.vue?64ac","webpack:///./src/App.vue?b4d8","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?fd9a","webpack:///./src/components/VBarrage/index.vue?8dcc","webpack:///src/components/VBarrage/index.vue","webpack:///./src/components/VBarrage/index.vue?9213","webpack:///./src/components/VBarrage/index.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/components/VBarrage/index.vue?5299"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","script","component","staticClass","staticStyle","_v","arr","isPause","directives","rawName","expression","domProps","on","$event","type","indexOf","_k","keyCode","sendBarrage","target","composing","sendContent","$$selectedVal","Array","filter","options","selected","map","val","_value","direction","multiple","isArray","isJs","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","ref","style","height","percent","class","props","default","Boolean","Number","MAX_DM_COUNT","CHANNEL_COUNT","barrages","domPool","intervalDM","interValTime","hasPosition","hasTopPosition","barrageMainDm","barMainWidth","dmStyles","computed","created","mounted","$refs","clientWidth","init","playDm","document","addEventListener","visibilitychangeFn","watch","list","pauseDm","methods","hidden","clearInterval","dom","className","transform","top","animation","doms","row","col","el","isUse","isFree","getChannel","getTopChannel","shootDanmu","channel","domItem","appendChild","dmItem","keys","forEach","isStyle","innerHTML","content","innerText","isSelf","setTimeout","shootTopDanmu","getFreeChannelDom","item","find","self","setInterval","barrage","topChannel","components","VBarrage","initTestData","index","parseInt","Math","random","unshift","color","fontSize","use","routes","path","Home","router","Store","state","mutations","actions","config","productionTip","store","render","h","App","$mount"],"mappings":"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","file":"js/app.4b591839.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-barrage/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=79aee4a0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=79aee4a0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=dfa44e76&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('h2',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Vue-barrage 基于vue的弹幕组件\")]),_c('div',{staticStyle:{\"height\":\"400px\",\"width\":\"800px\",\"position\":\"relative\",\"margin\":\"0px auto\",\"background\":\"#000\"}},[_c('v-barrage',{attrs:{\"arr\":_vm.arr,\"isPause\":_vm.isPause,\"percent\":100}})],1),_c('div',{staticClass:\"barrage-control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendContent),expression:\"sendContent\"}],attrs:{\"type\":\"text\",\"placeholder\":\"回车发送\",\"id\":\"sendContent\"},domProps:{\"value\":(_vm.sendContent)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendBarrage($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.sendContent=$event.target.value}}}),_vm._v(\" 方向: \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.direction),expression:\"direction\"}],staticStyle:{\"margin\":\"0px 12px\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.direction=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"default\"}},[_vm._v(\"默认\")]),_c('option',{attrs:{\"value\":\"top\"}},[_vm._v(\"顶部\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isJs),expression:\"isJs\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isJs)?_vm._i(_vm.isJs,null)>-1:(_vm.isJs)},on:{\"change\":function($event){var $$a=_vm.isJs,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isJs=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isJs=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isJs=$$c}}}}),_vm._v(\" js弹幕(直接写代码) \"),_c('button',{staticStyle:{\"margin-left\":\"25px\"},attrs:{\"id\":\"sendBarrageBtn\"},on:{\"click\":_vm.sendBarrage}},[_vm._v(\"发送\")]),_c('button',{attrs:{\"id\":\"pauseBtn\"},on:{\"click\":function($event){_vm.isPause=true}}},[_vm._v(\"暂停\")]),_c('button',{attrs:{\"id\":\"startBtn\"},on:{\"click\":function($event){_vm.isPause=false}}},[_vm._v(\"开始\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{ref:\"barrageWrapper\",staticClass:\"barrage-wrapper\",style:({height:_vm.percent+'%'})},[_c('div',{staticClass:\"barrage-main\"},[_c('div',{ref:\"barrageMainDm\",staticClass:\"barrage-main-dm\",class:{'ani-pause':_vm.isPause,'ani-running':!_vm.isPause}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"barrage-wrapper\"\r\n           ref=\"barrageWrapper\"\r\n           :style=\"{height:percent+'%'}\">\r\n    <div class=\"barrage-main\">\r\n      <div class=\"barrage-main-dm\"\r\n           :class=\"{'ani-pause':isPause,'ani-running':!isPause}\"\r\n           ref=\"barrageMainDm\"></div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    // 弹幕源数组\r\n    arr: {\r\n      type: Array,\r\n      default: function () {\r\n        return []\r\n      }\r\n    },\r\n    // 弹幕是否暂停状态\r\n    isPause: {\r\n      type: Boolean\r\n    },\r\n    // 弹幕占比\r\n    percent: {\r\n      type: Number,\r\n      default: 80\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      // 每行弹幕数最大值\r\n      MAX_DM_COUNT: 5,\r\n      // 行数\r\n      CHANNEL_COUNT: 8,\r\n      // 弹幕数组\r\n      barrages: [],\r\n      // dom池\r\n      domPool: [],\r\n      // intervalDM\r\n      intervalDM: null,\r\n      // 取弹幕时间间隔\r\n      interValTime: 500,\r\n      // 滚动弹幕的通道\r\n      hasPosition: [],\r\n      // 顶部弹幕的通道\r\n      hasTopPosition: [],\r\n      // 弹幕容器\r\n      barrageMainDm: null,\r\n      // 弹幕容器宽度\r\n      barMainWidth: 500,\r\n      // 自定义弹幕样式属性列表\r\n      dmStyles: [\r\n        'color',\r\n        'fontSize'\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n  },\r\n  created () {\r\n\r\n  },\r\n  mounted () {\r\n    this.barrageMainDm = this.$refs.barrageMainDm;\r\n    // 缓存容器宽度\r\n    this.barMainWidth = this.barrageMainDm.clientWidth;\r\n    // 初始化弹幕dom组\r\n    this.init();\r\n    // 开始播放弹幕\r\n    this.playDm();\r\n    // 注册页面监听器\r\n    document.addEventListener(\"visibilitychange\", this.visibilitychangeFn);\r\n  },\r\n  watch: {\r\n    arr (list) {\r\n      this.barrages = list;\r\n    },\r\n    isPause (val) {\r\n      if (val) {\r\n        this.pauseDm();\r\n      } else {\r\n        this.playDm();\r\n      }\r\n    },\r\n    percent (val) {\r\n      this.CHANNEL_COUNT = val / 10;\r\n    }\r\n  },\r\n  methods: {\r\n    visibilitychangeFn () {\r\n      if (!document.hidden) {\r\n        //处于当前页面\r\n        this.playDm();\r\n        console.log('进入页面');\r\n      } else {\r\n        console.log('离开页面');\r\n        clearInterval(this.intervalDM);\r\n        this.intervalDM = null;\r\n      }\r\n    },\r\n    init () {\r\n      let wrapper = this.$refs.barrageMainDm;\r\n      // 先new一些div 重复利用这些DOM\r\n      for (let j = 0; j < this.CHANNEL_COUNT; j++) {\r\n        let doms = [];\r\n        for (let i = 0; i < this.MAX_DM_COUNT; i++) {\r\n          // 初始化dom\r\n          let dom = document.createElement('div');\r\n          // 初始化dom的位置 通过设置className\r\n          dom.className = 'barrage-item';\r\n          dom.style.transform = `translate3d(${this.barMainWidth}px,0,0)`\r\n          // DOM的通道是固定的 所以设置好top就不需要再改变了\r\n          dom.style.top = j * (this.barrageMainDm.clientHeight / this.CHANNEL_COUNT) + 'px';\r\n          console.log(dom.style.top)\r\n          // 每次到animationend结束的时候 就是弹幕划出屏幕了 将DOM位置重置 再放回DOM池\r\n          dom.addEventListener('animationend', (e) => {\r\n            // 初始化dom样式\r\n            dom.className = 'barrage-item';\r\n            dom.style.transform = `translate3d(${this.barMainWidth}px,0,0)`\r\n            dom.style.animation = null;\r\n            // 清空自定义样式\r\n            this.dmStyles.forEach(key => {\r\n              dom.style[key] = null;\r\n            })\r\n            // this.domPool[j].push({ el: dom });\r\n            // 动画结束后设置当前dom为空闲状态\r\n            // console.log(i, j)\r\n            if (this.domPool[i][j]) {\r\n              this.domPool[i][j].isFree = false;\r\n            }\r\n            // console.log(dom)\r\n          });\r\n          // 放入该通道的DOM池\r\n          doms.push({\r\n            row: j,\r\n            col: i,\r\n            el: dom,\r\n            isUse: false,\r\n            isFree: false\r\n          });\r\n        }\r\n        this.domPool.push(doms);\r\n      }\r\n      // hasPosition 标记每个通道目前是否有位置\r\n      for (let i = 0; i < this.CHANNEL_COUNT; i++) {\r\n        this.hasPosition[i] = true;\r\n        this.hasTopPosition[i] = true;\r\n      }\r\n    },\r\n    /**\r\n     * 获取一个可以发射弹幕的通道 没有则返回-1\r\n     */\r\n    getChannel () {\r\n      for (let i = 0; i < this.CHANNEL_COUNT; i++) {\r\n        if (this.hasPosition[i] && this.domPool[i].length) return i;\r\n      }\r\n      return -1;\r\n    },\r\n    /**\r\n    * 获取一个可以发射顶部弹幕的通道 没有则返回-1\r\n    */\r\n    getTopChannel () {\r\n      for (let i = 0; i < this.CHANNEL_COUNT; i++) {\r\n        if (this.hasTopPosition[i]) return i;\r\n      }\r\n      return -1;\r\n    },\r\n    /**\r\n    * 根据DOM和弹幕信息 发射弹幕\r\n    */\r\n    shootDanmu (domItem, dmItem, channel) {\r\n      // 设置当前通道为false\r\n      this.hasPosition[channel] = false;\r\n      //获取dom\r\n      let dom = domItem.el;\r\n      // 是否已经使用的dom\r\n      if (!domItem.isUse && this.barrageMainDm) {\r\n        domItem.isUse = true;\r\n        this.barrageMainDm.appendChild(domItem.el);\r\n      }\r\n      // 判断是否有自定义样式\r\n      if (dmItem.style) {\r\n        let keys = Object.keys(dmItem.style);\r\n        let self = this;\r\n        keys.forEach(key => {\r\n          // 检查样式属性是否合法\r\n          let isStyle = self.dmStyles.includes(key)\r\n          if (isStyle) {\r\n            dom.style[key] = dmItem.style[key];\r\n          }\r\n        });\r\n      }\r\n      domItem.isFree = true;\r\n      // console.log('biu~ [' + dmItem.content + ']');\r\n      // dom.innerText = dmItem.content;\r\n      // 判断是否是js弹幕\r\n      if (dmItem.isJs) {\r\n        dom.innerHTML = dmItem.content;\r\n      } else {\r\n        dom.innerText = dmItem.content;\r\n      }\r\n      // 设置弹幕的位置信息 性能优化 left -> transform\r\n      // dom.style.transform = `translateX(${-dom.clientWidth}px)`;\r\n      // dom.style.transform = `translate3d(${-dom.clientWidth}px,0,0)`; // css硬件加速\r\n      dom.className = dmItem.isSelf ? 'barrage-item self-dm' : 'barrage-item';\r\n      dom.style.animation = 'barrage-run 5s linear';\r\n      // 弹幕全部显示之后 才能开始下一条弹幕\r\n      // 大概 dom.clientWidth * 10 的时间 该条弹幕就从右边全部划出到可见区域 再加1秒保证弹幕之间距离\r\n      setTimeout(() => {\r\n        this.hasPosition[channel] = true;\r\n      }, dom.clientWidth * 10 + 1000);\r\n    },\r\n    shootTopDanmu (dmItem, channel) {\r\n      // 设置当前通道为false\r\n      this.hasTopPosition[channel] = false;\r\n      //获取dom\r\n      let dom = document.createElement('div');\r\n      dom.className = dmItem.isSelf ? 'barrage-item top-item self-dm' : 'barrage-item top-item';\r\n      // 判断是否有自定义样式\r\n      if (dmItem.style) {\r\n        let keys = Object.keys(dmItem.style);\r\n        let self = this;\r\n        keys.forEach(key => {\r\n          // 检查样式属性是否合法\r\n          let isStyle = self.dmStyles.includes(key)\r\n          if (isStyle) {\r\n            dom.style[key] = dmItem.style[key];\r\n          }\r\n        });\r\n      }\r\n      // 判断是否是js弹幕\r\n      if (dmItem.isJs) {\r\n        dom.innerHTML = dmItem.content;\r\n      } else {\r\n        dom.innerText = dmItem.content;\r\n      }\r\n      dom.addEventListener('animationend', () => {\r\n        this.barrageMainDm.removeChild(dom)\r\n        this.hasTopPosition[channel] = true;\r\n      })\r\n      this.barrageMainDm.appendChild(dom); // 一定要在获取宽度和执行动画之前渲染dom\r\n      dom.style.transform = `translate3d(${this.barMainWidth / 2 - (dom.clientWidth / 2)}px,${channel * dom.clientHeight}px,0)`\r\n      dom.style.animation = 'barrage-fade 3s';\r\n    },\r\n    // 获取空闲通道中空闲的dom\r\n    getFreeChannelDom (channel) {\r\n      let item;\r\n      item = this.domPool[channel].find(it => !it.isFree)\r\n      return item\r\n    },\r\n    // 暂停弹幕\r\n    pauseDm () {\r\n      if (this.intervalDM) {\r\n        clearInterval(this.intervalDM)\r\n        this.intervalDM = null;\r\n      }\r\n    },\r\n    // 播放弹幕\r\n    playDm () {\r\n      // 每隔1ms从弹幕池里获取弹幕（如果有的话）并发射\r\n      let self = this; // 这里取一个self this 为了方便调试的时候看到this具体内容\r\n      self.intervalDM = setInterval(() => {\r\n        // let channel;\r\n        // if (self.barrages.length && (channel = self.getChannel()) != -1) {\r\n        //   let domItem = self.getFreeChannelDom(channel);\r\n        //   // let domItem = self.domPool[channel].shift();\r\n        //   if (domItem) {\r\n        //     let danmu = self.barrages.shift();\r\n        //     self.shootDanmu(domItem, danmu, channel);\r\n        //   }\r\n        // }\r\n        // 更新逻辑\r\n        if (self.barrages.length > 0) {\r\n          let channel;\r\n          let topChannel;\r\n          let barrage = self.barrages.shift();\r\n          if (barrage.direction == 'top' && (topChannel = self.getTopChannel()) != -1) {\r\n            // top....\r\n            self.shootTopDanmu(barrage, topChannel);\r\n          }\r\n          if (barrage.direction == 'default' && (channel = self.getChannel()) != -1) {\r\n            // default....\r\n            let domItem = self.getFreeChannelDom(channel);\r\n            if (domItem) {\r\n              // let danmu = self.barrages.shift();\r\n              self.shootDanmu(domItem, barrage, channel);\r\n            }\r\n          }\r\n        }\r\n      }, self.interValTime);\r\n    }\r\n  },\r\n  components: {\r\n\r\n  },\r\n};\r\n</script>\r\n<style  lang=\"scss\">\r\n.barrage-wrapper {\r\n  * {\r\n    margin: 0px;\r\n    padding: 0px;\r\n  }\r\n  z-index: 1;\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  width: 100%;\r\n  height: 100%;\r\n  .barrage-item {\r\n    z-index: 99;\r\n    position: absolute;\r\n    // left: 0px;\r\n    // top: 0px;\r\n    // transform: translateX(-100%);\r\n    // padding: 5px 0px;\r\n    user-select: none; // 禁用选择文字\r\n    position: absolute;\r\n    white-space: pre;\r\n    cursor: pointer;\r\n    // pointer-events: none;\r\n    // perspective: 500px;\r\n    display: inline-block;\r\n    will-change: transform;\r\n    font-size: 25px;\r\n    color: rgb(255, 255, 255);\r\n    font-family: SimHei, \"Microsoft JhengHei\", Arial, Helvetica, sans-serif;\r\n    font-weight: bold;\r\n    line-height: 1.125;\r\n    opacity: 1;\r\n    text-shadow: rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px,\r\n      rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px;\r\n    &:hover {\r\n      color: red;\r\n      animation-play-state: paused !important;\r\n      z-index: 150;\r\n    }\r\n  }\r\n  .top-item {\r\n    z-index: 100;\r\n  }\r\n  .barrage-main {\r\n    /* border: 2px solid blue; */\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    overflow: hidden;\r\n    // background: #000;\r\n  }\r\n  .barrage-main-dm {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n  }\r\n}\r\n.self-dm {\r\n  border: 2px solid #87ceeb;\r\n  box-sizing: border-box;\r\n}\r\n@keyframes barrage-run {\r\n  0% {\r\n    // transform: translate3d(500px, 0, 0);\r\n  }\r\n\r\n  100% {\r\n    transform: translate3d(-100%, 0, 0);\r\n  }\r\n}\r\n@keyframes barrage-fade {\r\n  0% {\r\n    visibility: visible;\r\n    // opacity: 1;\r\n  }\r\n  100% {\r\n    visibility: hidden;\r\n    // opacity: 0;\r\n  }\r\n}\r\n.ani-pause {\r\n  & div {\r\n    animation-play-state: paused !important;\r\n  }\r\n}\r\n.ani-running {\r\n  & div {\r\n    animation-play-state: running !important;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6f7b9b77&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home\">\n    <h2 style=\" text-align: center;\">Vue-barrage 基于vue的弹幕组件</h2>\n    <div style=\"height:400px;width:800px; position: relative;margin:0px auto;background:#000;\">\n      <!-- <video controls\n             src=\"@/assets/1.mp4\"\n             autoplay\n             style=\"width:100%;height:100%;z-index:2;\" /> -->\n      <!-- 确保父元素是相对定位，弹幕容器是绝对定位 -->\n      <v-barrage :arr=\"arr\"\n                 :isPause=\"isPause\"\n                 :percent=\"100\">\n      </v-barrage>\n    </div>\n    <div class=\"barrage-control\">\n      <input type=\"text\"\n             v-model=\"sendContent\"\n             placeholder=\"回车发送\"\n             id=\"sendContent\"\n             @keyup.enter=\"sendBarrage\" />\n      方向:\n      <select style=\"margin:0px 12px;\"\n              v-model=\"direction\">\n        <option value=\"default\">默认</option>\n        <option value=\"top\">顶部</option>\n      </select>\n      <input type=\"checkbox\"\n             v-model=\"isJs\" /> js弹幕(直接写代码)\n      <button id=\"sendBarrageBtn\"\n              style=\"margin-left:25px;\"\n              @click=\"sendBarrage\">发送</button>\n      <button id=\"pauseBtn\"\n              @click=\"isPause=true\">暂停</button>\n      <button id=\"startBtn\"\n              @click=\"isPause=false\">开始</button>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport VBarrage from '@/components/VBarrage/index.vue'\n\nexport default {\n  name: 'home',\n  components: {\n    VBarrage\n  },\n  data () {\n    return {\n      arr: [],\n      isPause: false,\n      sendContent: null,\n      isJs: false,\n      direction: 'default'\n    }\n  },\n  mounted () {\n    this.initTestData();\n  },\n  methods: {\n    // 初始化模拟弹幕数据\n    initTestData () {\n      let arr = [\n        '这是一条有弹幕',\n        '今天去打LOL',\n        '可以吗？',\n        '一起嗨！！！'\n      ]\n      for (let i = 0; i < 6; i++) {\n        for (let index = 0; index < 1000; index++) {\n          if (index % 2 == 0) {\n            this.arr.push({\n              direction: 'top',\n              content: arr[parseInt(Math.random() * arr.length)]\n            })\n          } else {\n            this.arr.push({\n              direction: 'default',\n              content: arr[parseInt(Math.random() * arr.length)]\n            })\n          }\n        }\n      }\n    },\n    // 发送弹幕\n    sendBarrage () {\n      if (this.arr.length > 1 && this.sendContent != '' && this.sendContent != null) {\n        this.arr.unshift({\n          content: this.sendContent,\n          direction: this.direction,\n          isSelf: true,\n          style: {\n            color: 'red',\n            fontSize: '25px'\n          },\n          isJs: this.isJs\n        });\n      } else {\n        this.arr.push({\n          content: this.sendContent,\n          direction: this.direction,\n          isSelf: true,\n          style: {\n            color: 'red'\n          },\n          isJs: this.isJs\n        });\n      }\n      this.sendContent = null;\n    },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.barrage-control {\n  text-align: center;\n  margin: 10px 0px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=79aee4a0&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=79aee4a0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79aee4a0\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home\n  },\n  // {\n  //   path: '/about',\n  //   name: 'about',\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  // }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}